<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Yenglihs Translator</title>
    <style>
        /* Basic page styling */
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
            background: linear-gradient(135deg, #f0f4f8, #d9e2ec);
            color: #333;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
        }
        
        /* Container for the translator UI */
        .container {
            width: 90%;
            max-width: 900px;
            background: #fff;
            border-radius: 12px;
            box-shadow: 0 8px 20px rgba(0,0,0,0.1);
            overflow: hidden;
        }
        
        /* Header section styling */
        .header {
            background-color: #0077cc;
            color: #fff;
            padding: 20px;
            text-align: center;
        }
        .header h1 {
            margin: 0;
            font-size: 2rem;
        }
        
        /* Description panel styling */
        .description {
            background: #e9f5ff;
            padding: 20px;
            border-left: 5px solid #0077cc;
        }
        .description h2 {
            margin-top: 0;
        }
        .description ol {
            margin: 10px 0;
            padding-left: 20px;
        }
        
        /* Tab navigation styling */
        .tabs {
            display: flex;
            border-bottom: 2px solid #e0e0e0;
        }
        .tab {
            flex: 1;
            text-align: center;
            padding: 12px;
            cursor: pointer;
            transition: background 0.3s;
        }
        .tab.active {
            background: #e9f5ff;
            border-bottom: 4px solid #0077cc;
            font-weight: bold;
        }
        
        /* Panel styling (hidden by default) */
        .panel {
            display: none;
            padding: 20px;
        }
        .panel.active {
            display: block;
        }
        
        /* Translator textarea styling */
        .translator textarea {
            width: 100%;
            height: 120px;
            padding: 12px;
            margin-bottom: 12px;
            border: 1px solid #ccc;
            border-radius: 6px;
            resize: vertical;
        }
        
        /* Button container styling */
        .controls {
            display: flex;
            gap: 12px;
            margin-bottom: 12px;
        }
        .controls button {
            flex: 1;
            padding: 12px;
            border: none;
            border-radius: 6px;
            font-size: 1rem;
            cursor: pointer;
            transition: background 0.3s;
        }
        /* Primary (action) button styling */
        .btn-primary {
            background: #0077cc;
            color: #fff;
        }
        .btn-primary:hover {
            background: #005fa3;
        }
        /* Success (copy) button styling */
        .btn-success {
            background: #28a745;
            color: #fff;
        }
        .btn-success:hover {
            background: #218838;
        }
        
        /* Output display styling */
        .output {
            padding: 16px;
            background: #f7fafc;
            border: 1px solid #ddd;
            border-radius: 6px;
            white-space: pre-wrap; /* Preserve whitespace and line breaks */
            min-height: 60px;
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Header with title -->
        <div class="header">
            <h1>Yenglihs Translator</h1>
        </div>

        <!-- Description of Yenglihs Rules -->
        <div class="description">
            <h2>What is Yenglihs</h2>
            <p>Yenglihs is a "language" to transform words (With two modes, modern yenglihs and old yenglihs, old yenglihs simply ignores step 7). It's not a serious language, but rather a set of simple rules to modify text for my entertainment. It can take English (or other Latin-script words) and convert them into the best thing known to man. (Oh yeah, also, please note that the "English translator" doesn't work well and  brings out wrong stuff. So please put two and two together to realise what the word is supposed to be while I fix this! Thank you :)</p>

            <h2>How Does Yenglihs Work?</h2>
            <p>Rules for Yenglihs:</p>
            <ol>
                <li>Take any word and replace the first letter with "y" (e.g., Hello -> Yello).</li>
                <li>If a word already begins with "y", add the prefix "la-" instead (e.g., Yellow -> Layellow).</li>
                <li>Swap the last two letters of the word (e.g., Layellow -> Layellwo).</li>
                <li>If a word has only two letters, swap them and add "l" if the word ends in a vowel (e.g., As -> Sal).</li>
                <li>If a word has only one letter and is a vowel, add "l" (e.g., A -> Al).</li>
                <li>Add "l" at the end of words ending in a vowel (e.g., Me -> Mel).</li>
                <li>For words with at least three letters, append the first letter of the original word to the end of the transformed word. If both the appended letter and the last letter of the word are vowels or consonants, add "y" between them (e.g., Apple -> Ypplea -> Yppleya) </li>
            </ol>
            <p>These rules must be followed to transform words properly.</p>

            <h2>How to Reverse Yenglihs?</h2>
            <p>To reverse Yenglihs back to the original word, follow these steps in reverse:</p>
            <ol>
                <li>Remove the first letter (if it's "y") or the prefix "la-" (if present).</li>
                <li>Undo the letter swap at the end of the word.</li>
                <li>Remove the appended first letter from the end of the word (and remove any "y" inserted in step 7), and replace "y" (if it's the first letter) with the first letter from the end.</l[...]
                <li>Restore the word to its original form.</li>
                <li>If the word is two letters, swap the place of the first two letters and remove the "l" at the end.</li>
                <li>If the word is one letter, remove the "l" if there's any.</li>
            </ol>
        </div>Rules omitted for brevity -->
        </div>

        <!-- Tab navigation for different modes -->
        <div class="tabs">
            <div class="tab active" data-target="oldYenglihsPanel">Old Yenglihs</div>
            <div class="tab" data-target="toYenglihsPanel">Modern Yenglihs</div>
            <div class="tab" data-target="toEnglishPanel">To English</div>
        </div>

        <!-- Old Yenglihs pane -->
        <div id="oldYenglihsPanel" class="panel active">
            <div class="translator">
                <textarea id="oldInput" placeholder="Enter text for Old Yenglihs..."></textarea>
                <div class="controls">
                    <!-- Transform button -->
                    <button class="btn-primary" onclick="convertToOldYenglihs()">Transform</button>
                    <!-- Copy result button -->
                    <button class="btn-success" onclick="copyText('oldOutput')">Copy</button>
                </div>
                <!-- Display transformed text -->
                <div id="oldOutput" class="output"></div>
            </div>
        </div>

        <!-- Modern Yenglihs pane -->
        <div id="toYenglihsPanel" class="panel">
            <div class="translator">
                <textarea id="yenglihsInput" placeholder="Enter text for Modern Yenglihs..."></textarea>
                <div class="controls">
                    <button class="btn-primary" onclick="convertToYenglihs()">Transform</button>
                    <button class="btn-success" onclick="copyText('yenglihsOutput')">Copy</button>
                </div>
                <div id="yenglihsOutput" class="output"></div>
            </div>
        </div>

        <!-- Reversion to English pane -->
        <div id="toEnglishPanel" class="panel">
            <div class="translator">
                <textarea id="englishInput" placeholder="Enter Yenglihs text to revert..."></textarea>
                <div class="controls">
                    <button class="btn-primary" onclick="convertFromYenglihs()">Revert</button>
                    <button class="btn-success" onclick="copyText('englishOutput')">Copy</button>
                </div>
                <div id="englishOutput" class="output"></div>
            </div>
        </div>
    </div>

    <script>
        // Tab switching logic
        document.querySelectorAll('.tab').forEach(tabElement => {
            tabElement.addEventListener('click', () => {
                // Remove "active" class from all tabs and panels
                document.querySelectorAll('.tab').forEach(t => t.classList.remove('active'));
                document.querySelectorAll('.panel').forEach(p => p.classList.remove('active'));
                // Activate the clicked tab and its corresponding panel
                tabElement.classList.add('active');
                document.getElementById(tabElement.dataset.target).classList.add('active');
            });
        });

        /**
         * Checks if a character is an alphabetical letter (A-Z, case-insensitive)
         * @param {string} char - Single character to test
         * @returns {boolean}
         */
        function isAlphabeticalLetter(char) {
            return /[a-zA-Z]/.test(char);
        }

        /**
         * Converts input text to Modern Yenglihs by splitting on whitespace and transforming each word
         */
        function convertToYenglihs() {
            const words = document.getElementById('yenglihsInput').value.split(/\s+/);
            const transformed = words.map(transformToYenglihs).join(' ');
            document.getElementById('yenglihsOutput').textContent = transformed;
        }

        /**
         * Core transformation function for Modern Yenglihs mode
         */
        function transformToYenglihs(word) {
            // Return non-alphabetic tokens unchanged
            if (![...word].some(isAlphabeticalLetter)) return word;
            // Single-letter words: append 'l' if vowel
            if (word.length === 1) return /[aeiou]/i.test(word) ? word + 'l' : word;
            // Two-letter words: swap and append 'l' if new last is vowel
            if (word.length === 2) {
                const swapped = word[1] + word[0];
                return /[aeiou]/i.test(swapped[1]) ? swapped + 'l' : swapped;
            }
            // For longer words: prefix with 'y' or 'la-'
            let transformed = word[0].toLowerCase() !== 'y' ? 'y' + word.slice(1) : 'la' + word;
            // Swap last two letters
            transformed = transformed.slice(0, -2) + transformed.slice(-1) + transformed.slice(-2, -1);
            // Append 'l' if last char is a vowel or 'y'
            if (/[aeiouy]/i.test(transformed.slice(-1))) transformed += 'l';
            // Append original first letter (with 'y' in between if same type)
            const originalFirst = word[0].toLowerCase();
            const sameType = /[aeiou]/i.test(originalFirst) === /[aeiou]/i.test(transformed.slice(-1));
            transformed += sameType ? 'y' + originalFirst : originalFirst;
            return transformed;
        }

        /**
         * Converts input text to Old Yenglihs (ignores step 7 of modern rules)
         */
        function convertToOldYenglihs() {
            const words = document.getElementById('oldInput').value.split(/\s+/);
            const transformed = words.map(transformToOldYenglihs).join(' ');
            document.getElementById('oldOutput').textContent = transformed;
        }

        /**
         * Core transformation for Old Yenglihs mode
         */
        function transformToOldYenglihs(word) {
            if (![...word].some(isAlphabeticalLetter)) return word;
            if (word.length === 1) return /[aeiou]/i.test(word) ? word + 'l' : word;
            if (word.length === 2) {
                const swapped = word[1] + word[0];
                return /[aeiou]/i.test(swapped[1]) ? swapped + 'l' : swapped;
            }
            let transformed = word[0].toLowerCase() !== 'y' ? 'y' + word.slice(1) : 'la' + word;
            transformed = transformed.slice(0, -2) + transformed.slice(-1) + transformed.slice(-2, -1);
            if (/[aeiouy]/i.test(transformed.slice(-1))) transformed += 'l';
            return transformed;
        }

        /**
         * Reverts Yenglihs text back to English following reverse steps
         */
        function convertFromYenglihs() {
            const words = document.getElementById('englishInput').value.split(/\s+/);
            const reversed = words.map(reverseFromYenglihs).join(' ');
            document.getElementById('englishOutput').textContent = reversed;
        }

        /**
         * Core reverse transformation logic
         */
        function reverseFromYenglihs(word) {
            if (![...word].some(isAlphabeticalLetter)) return word;
            if (word.length === 1) return word;
            if (word.length === 2) {
                const core = word.endsWith('l') ? word.slice(0, -1) : word;
                return core[1] + core[0]; // swap back
            }
            const lastChar = word.slice(-1);
            let core = word.slice(0, -1);
            // Remove inserted 'y' before final char if matches vowel rule
            if (core.endsWith('y') && /[aeiou]/i.test(lastChar)) core = core.slice(0, -1);
            // Remove trailing 'l' if added after vowel
            if (core.endsWith('l') && /[aeiouy]/i.test(core.slice(-1))) core = core.slice(0, -1);
            // Swap the last two letters back
            core = core.slice(0, -2) + core.slice(-1) + core.slice(-2, -1);
            // Remove prefixes 'la' or 'y'
            if (core.startsWith('la')) core = core.slice(2);
            else if (core.startsWith('y')) core = core.slice(1);
            // Prepend the saved lastChar
            return lastChar + core;
        }

        /**
         * Copies the text content of the given element ID to the clipboard
         * @param {string} id - The ID of the element whose text to copy
         */
        function copyText(id) {
            navigator.clipboard.writeText(document.getElementById(id).textContent);
        }
    </script>
</body>
</html>
